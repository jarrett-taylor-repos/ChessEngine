U64 precomputtedSingleBit[64] = {1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, 4096, 8192, 16384, 32768, 65536, 131072, 262144, 524288, 1048576, 2097152, 4194304, 8388608, 16777216, 33554432, 67108864, 134217728, 268435456, 536870912, 1073741824, 2147483648, 4294967296, 8589934592, 17179869184, 34359738368, 68719476736, 137438953472, 274877906944, 549755813888, 1099511627776, 2199023255552, 4398046511104, 8796093022208, 17592186044416, 35184372088832, 70368744177664, 140737488355328, 281474976710656, 562949953421312, 1125899906842624, 2251799813685248, 4503599627370496, 9007199254740992, 18014398509481984, 36028797018963968, 72057594037927936, 144115188075855872, 288230376151711744, 576460752303423488, 1152921504606846976, 2305843009213693952, 4611686018427387904, 9223372036854775808};
U64 precomputtedKnights[64] = {132096, 329728, 659712, 1319424, 2638848, 5277696, 10489856, 4202496, 33816580, 84410376, 168886289, 337772578, 675545156, 1351090312, 2685403152, 1075839008, 8657044482, 21609056261, 43234889994, 86469779988, 172939559976, 345879119952, 687463207072, 275414786112, 2216203387392, 5531918402816, 11068131838464, 22136263676928, 44272527353856, 88545054707712, 175990581010432, 70506185244672, 567348067172352, 1416171111120896, 2833441750646784, 5666883501293568, 11333767002587136, 22667534005174272, 45053588738670592, 18049583422636032, 145241105196122112, 362539804446949376, 725361088165576704, 1450722176331153408, 2901444352662306816, 5802888705324613632, 11533718717099671552, 4620693356194824192, 288234782788157440, 576469569871282176, 1224997833292120064, 2449995666584240128, 4899991333168480256, 9799982666336960512, 1152939783987658752, 2305878468463689728, 1128098930098176, 2257297371824128, 4796069720358912, 9592139440717824, 19184278881435648, 38368557762871296, 4679521487814656, 9077567998918656};
U64 precomputtedKings[64] = {770, 1797, 3594, 7188, 14376, 28752, 57504, 49216, 197123, 460039, 920078, 1840156, 3680312, 7360624, 14721248, 12599488, 50463488, 117769984, 235539968, 471079936, 942159872, 1884319744, 3768639488, 3225468928, 12918652928, 30149115904, 60298231808, 120596463616, 241192927232, 482385854464, 964771708928, 825720045568, 3307175149568, 7718173671424, 15436347342848, 30872694685696, 61745389371392, 123490778742784, 246981557485568, 211384331665408, 846636838289408, 1975852459884544, 3951704919769088, 7903409839538176, 15806819679076352, 31613639358152704, 63227278716305408, 54114388906344448, 216739030602088448, 505818229730443264, 1011636459460886528, 2023272918921773056, 4046545837843546112, 8093091675687092224, 16186183351374184448, 13853283560024178688, 144959613005987840, 362258295026614272, 724516590053228544, 1449033180106457088, 2898066360212914176, 5796132720425828352, 11592265440851656704, 4665729213955833856};
U64 precomputtedWhitePawnAttacks[64] = {0, 0, 0, 0, 0, 0, 0, 0, 2, 5, 10, 20, 40, 80, 160, 64, 512, 1280, 2560, 5120, 10240, 20480, 40960, 16384, 131072, 327680, 655360, 1310720, 2621440, 5242880, 10485760, 4194304, 33554432, 83886080, 167772160, 335544320, 671088640, 1342177280, 2684354560, 1073741824, 8589934592, 21474836480, 42949672960, 85899345920, 171798691840, 343597383680, 687194767360, 274877906944, 2199023255552, 5497558138880, 10995116277760, 21990232555520, 43980465111040, 87960930222080, 175921860444160, 70368744177664, 562949953421312, 1407374883553280, 2814749767106560, 5629499534213120, 11258999068426240, 22517998136852480, 45035996273704960, 18014398509481984};
U64 precomputtedBlackPawnAttacks[64] = {512, 1280, 2560, 5120, 10240, 20480, 40960, 16384, 131072, 327680, 655360, 1310720, 2621440, 5242880, 10485760, 4194304, 33554432, 83886080, 167772160, 335544320, 671088640, 1342177280, 2684354560, 1073741824, 8589934592, 21474836480, 42949672960, 85899345920, 171798691840, 343597383680, 687194767360, 274877906944, 2199023255552, 5497558138880, 10995116277760, 21990232555520, 43980465111040, 87960930222080, 175921860444160, 70368744177664, 562949953421312, 1407374883553280, 2814749767106560, 5629499534213120, 11258999068426240, 22517998136852480, 45035996273704960, 18014398509481984, 144115188075855872, 360287970189639680, 720575940379279360, 1441151880758558720, 2882303761517117440, 5764607523034234880, 11529215046068469760, 4611686018427387904, 0, 0, 0, 0, 0, 0, 0, 0};
U64 precomputtedWhitePawnSinglePush[64] = {0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 4, 8, 16, 32, 64, 128, 256, 512, 1024, 2048, 4096, 8192, 16384, 32768, 65536, 131072, 262144, 524288, 1048576, 2097152, 4194304, 8388608, 16777216, 33554432, 67108864, 134217728, 268435456, 536870912, 1073741824, 2147483648, 4294967296, 8589934592, 17179869184, 34359738368, 68719476736, 137438953472, 274877906944, 549755813888, 1099511627776, 2199023255552, 4398046511104, 8796093022208, 17592186044416, 35184372088832, 70368744177664, 140737488355328, 281474976710656, 562949953421312, 1125899906842624, 2251799813685248, 4503599627370496, 9007199254740992, 18014398509481984, 36028797018963968};
U64 precomputtedBlackPawnSinglePush[64] = {256, 512, 1024, 2048, 4096, 8192, 16384, 32768, 65536, 131072, 262144, 524288, 1048576, 2097152, 4194304, 8388608, 16777216, 33554432, 67108864, 134217728, 268435456, 536870912, 1073741824, 2147483648, 4294967296, 8589934592, 17179869184, 34359738368, 68719476736, 137438953472, 274877906944, 549755813888, 1099511627776, 2199023255552, 4398046511104, 8796093022208, 17592186044416, 35184372088832, 70368744177664, 140737488355328, 281474976710656, 562949953421312, 1125899906842624, 2251799813685248, 4503599627370496, 9007199254740992, 18014398509481984, 36028797018963968, 72057594037927936, 144115188075855872, 288230376151711744, 576460752303423488, 1152921504606846976, 2305843009213693952, 4611686018427387904, 9223372036854775808, 0, 0, 0, 0, 0, 0, 0, 0};
map<U64, U64> precomputtedWhitePawnAttackMap = {{1, 0}, {2, 0}, {4, 0}, {8, 0}, {16, 0}, {32, 0}, {64, 0}, {128, 0}, {256, 2}, {512, 5}, {1024, 10}, {2048, 20}, {4096, 40}, {8192, 80}, {16384, 160}, {32768, 64}, {65536, 512}, {131072, 1280}, {262144, 2560}, {524288, 5120}, {1048576, 10240}, {2097152, 20480}, {4194304, 40960}, {8388608, 16384}, {16777216, 131072}, {33554432, 327680}, {67108864, 655360}, {134217728, 1310720}, {268435456, 2621440}, {536870912, 5242880}, {1073741824, 10485760}, {2147483648, 4194304}, {4294967296, 33554432}, {8589934592, 83886080}, {17179869184, 167772160}, {34359738368, 335544320}, {68719476736, 671088640}, {137438953472, 1342177280}, {274877906944, 2684354560}, {549755813888, 1073741824}, {1099511627776, 8589934592}, {2199023255552, 21474836480}, {4398046511104, 42949672960}, {8796093022208, 85899345920}, {17592186044416, 171798691840}, {35184372088832, 343597383680}, {70368744177664, 687194767360}, {140737488355328, 274877906944}, {281474976710656, 2199023255552}, {562949953421312, 5497558138880}, {1125899906842624, 10995116277760}, {2251799813685248, 21990232555520}, {4503599627370496, 43980465111040}, {9007199254740992, 87960930222080}, {18014398509481984, 175921860444160}, {36028797018963968, 70368744177664}, {72057594037927936, 562949953421312}, {144115188075855872, 1407374883553280}, {288230376151711744, 2814749767106560}, {576460752303423488, 5629499534213120}, {1152921504606846976, 11258999068426240}, {2305843009213693952, 22517998136852480}, {4611686018427387904, 45035996273704960}, {9223372036854775808, 18014398509481984}};
map<U64, U64> precomputtedBlackPawnAttackMap = {{1, 512}, {2, 1280}, {4, 2560}, {8, 5120}, {16, 10240}, {32, 20480}, {64, 40960}, {128, 16384}, {256, 131072}, {512, 327680}, {1024, 655360}, {2048, 1310720}, {4096, 2621440}, {8192, 5242880}, {16384, 10485760}, {32768, 4194304}, {65536, 33554432}, {131072, 83886080}, {262144, 167772160}, {524288, 335544320}, {1048576, 671088640}, {2097152, 1342177280}, {4194304, 2684354560}, {8388608, 1073741824}, {16777216, 8589934592}, {33554432, 21474836480}, {67108864, 42949672960}, {134217728, 85899345920}, {268435456, 171798691840}, {536870912, 343597383680}, {1073741824, 687194767360}, {2147483648, 274877906944}, {4294967296, 2199023255552}, {8589934592, 5497558138880}, {17179869184, 10995116277760}, {34359738368, 21990232555520}, {68719476736, 43980465111040}, {137438953472, 87960930222080}, {274877906944, 175921860444160}, {549755813888, 70368744177664}, {1099511627776, 562949953421312}, {2199023255552, 1407374883553280}, {4398046511104, 2814749767106560}, {8796093022208, 5629499534213120}, {17592186044416, 11258999068426240}, {35184372088832, 22517998136852480}, {70368744177664, 45035996273704960}, {140737488355328, 18014398509481984}, {281474976710656, 144115188075855872}, {562949953421312, 360287970189639680}, {1125899906842624, 720575940379279360}, {2251799813685248, 1441151880758558720}, {4503599627370496, 2882303761517117440}, {9007199254740992, 5764607523034234880}, {18014398509481984, 11529215046068469760}, {36028797018963968, 4611686018427387904}, {72057594037927936, 0}, {144115188075855872, 0}, {288230376151711744, 0}, {576460752303423488, 0}, {1152921504606846976, 0}, {2305843009213693952, 0}, {4611686018427387904, 0}, {9223372036854775808, 0}};
map<U64, U64> precomputtedKnightMap = {{1, 132096}, {2, 329728}, {4, 659712}, {8, 1319424}, {16, 2638848}, {32, 5277696}, {64, 10489856}, {128, 4202496}, {256, 33816580}, {512, 84410376}, {1024, 168886289}, {2048, 337772578}, {4096, 675545156}, {8192, 1351090312}, {16384, 2685403152}, {32768, 1075839008}, {65536, 8657044482}, {131072, 21609056261}, {262144, 43234889994}, {524288, 86469779988}, {1048576, 172939559976}, {2097152, 345879119952}, {4194304, 687463207072}, {8388608, 275414786112}, {16777216, 2216203387392}, {33554432, 5531918402816}, {67108864, 11068131838464}, {134217728, 22136263676928}, {268435456, 44272527353856}, {536870912, 88545054707712}, {1073741824, 175990581010432}, {2147483648, 70506185244672}, {4294967296, 567348067172352}, {8589934592, 1416171111120896}, {17179869184, 2833441750646784}, {34359738368, 5666883501293568}, {68719476736, 11333767002587136}, {137438953472, 22667534005174272}, {274877906944, 45053588738670592}, {549755813888, 18049583422636032}, {1099511627776, 145241105196122112}, {2199023255552, 362539804446949376}, {4398046511104, 725361088165576704}, {8796093022208, 1450722176331153408}, {17592186044416, 2901444352662306816}, {35184372088832, 5802888705324613632}, {70368744177664, 11533718717099671552}, {140737488355328, 4620693356194824192}, {281474976710656, 288234782788157440}, {562949953421312, 576469569871282176}, {1125899906842624, 1224997833292120064}, {2251799813685248, 2449995666584240128}, {4503599627370496, 4899991333168480256}, {9007199254740992, 9799982666336960512}, {18014398509481984, 1152939783987658752}, {36028797018963968, 2305878468463689728}, {72057594037927936, 1128098930098176}, {144115188075855872, 2257297371824128}, {288230376151711744, 4796069720358912}, {576460752303423488, 9592139440717824}, {1152921504606846976, 19184278881435648}, {2305843009213693952, 38368557762871296}, {4611686018427387904, 4679521487814656}, {9223372036854775808, 9077567998918656}};
map<U64, U64> precomputtedKingMap = {{1, 770}, {2, 1797}, {4, 3594}, {8, 7188}, {16, 14376}, {32, 28752}, {64, 57504}, {128, 49216}, {256, 197123}, {512, 460039}, {1024, 920078}, {2048, 1840156}, {4096, 3680312}, {8192, 7360624}, {16384, 14721248}, {32768, 12599488}, {65536, 50463488}, {131072, 117769984}, {262144, 235539968}, {524288, 471079936}, {1048576, 942159872}, {2097152, 1884319744}, {4194304, 3768639488}, {8388608, 3225468928}, {16777216, 12918652928}, {33554432, 30149115904}, {67108864, 60298231808}, {134217728, 120596463616}, {268435456, 241192927232}, {536870912, 482385854464}, {1073741824, 964771708928}, {2147483648, 825720045568}, {4294967296, 3307175149568}, {8589934592, 7718173671424}, {17179869184, 15436347342848}, {34359738368, 30872694685696}, {68719476736, 61745389371392}, {137438953472, 123490778742784}, {274877906944, 246981557485568}, {549755813888, 211384331665408}, {1099511627776, 846636838289408}, {2199023255552, 1975852459884544}, {4398046511104, 3951704919769088}, {8796093022208, 7903409839538176}, {17592186044416, 15806819679076352}, {35184372088832, 31613639358152704}, {70368744177664, 63227278716305408}, {140737488355328, 54114388906344448}, {281474976710656, 216739030602088448}, {562949953421312, 505818229730443264}, {1125899906842624, 1011636459460886528}, {2251799813685248, 2023272918921773056}, {4503599627370496, 4046545837843546112}, {9007199254740992, 8093091675687092224}, {18014398509481984, 16186183351374184448}, {36028797018963968, 13853283560024178688}, {72057594037927936, 144959613005987840}, {144115188075855872, 362258295026614272}, {288230376151711744, 724516590053228544}, {576460752303423488, 1449033180106457088}, {1152921504606846976, 2898066360212914176}, {2305843009213693952, 5796132720425828352}, {4611686018427387904, 11592265440851656704}, {9223372036854775808, 4665729213955833856}};
U64 precomputtedBishopMask[64] = {18049651735527936, 70506452091904, 275415828992, 1075975168, 38021120, 8657588224, 2216338399232, 567382630219776, 9024825867763712, 18049651735527424, 70506452221952, 275449643008, 9733406720, 2216342585344, 567382630203392, 1134765260406784, 4512412933816832, 9024825867633664, 18049651768822272, 70515108615168, 2491752130560, 567383701868544, 1134765256220672, 2269530512441344, 2256206450263040, 4512412900526080, 9024834391117824, 18051867805491712, 637888545440768, 1135039602493440, 2269529440784384, 4539058881568768, 1128098963916800, 2256197927833600, 4514594912477184, 9592139778506752, 19184279556981248, 2339762086609920, 4538784537380864, 9077569074761728, 562958610993152, 1125917221986304, 2814792987328512, 5629586008178688, 11259172008099840, 22518341868716544, 9007336962655232, 18014673925310464, 2216338399232, 4432676798464, 11064376819712, 22137335185408, 44272556441600, 87995357200384, 35253226045952, 70506452091904, 567382630219776, 1134765260406784, 2832480465846272, 5667157807464448, 11333774449049600, 22526811443298304, 9024825867763712, 18049651735527936};
U64 precomputtedRookMask[64] = {282578800148862, 565157600297596, 1130315200595066, 2260630401190006, 4521260802379886, 9042521604759646, 18085043209519166, 36170086419038334, 282578800180736, 565157600328704, 1130315200625152, 2260630401218048, 4521260802403840, 9042521604775424, 18085043209518592, 36170086419037696, 282578808340736, 565157608292864, 1130315208328192, 2260630408398848, 4521260808540160, 9042521608822784, 18085043209388032, 36170086418907136, 282580897300736, 565159647117824, 1130317180306432, 2260632246683648, 4521262379438080, 9042522644946944, 18085043175964672, 36170086385483776, 283115671060736, 565681586307584, 1130822006735872, 2261102847592448, 4521664529305600, 9042787892731904, 18085034619584512, 36170077829103616, 420017753620736, 699298018886144, 1260057572672512, 2381576680245248, 4624614895390720, 9110691325681664, 18082844186263552, 36167887395782656, 35466950888980736, 34905104758997504, 34344362452452352, 33222877839362048, 30979908613181440, 26493970160820224, 17522093256097792, 35607136465616896, 9079539427579068672, 8935706818303361536, 8792156787827803136, 8505056726876686336, 7930856604974452736, 6782456361169985536, 4485655873561051136, 9115426935197958144};
const int BishopOccupanyBitCount[64] = {
    6, 5, 5, 5, 5, 5, 5, 6, 
    5, 5, 5, 5, 5, 5, 5, 5, 
    5, 5, 7, 7, 7, 7, 5, 5, 
    5, 5, 7, 9, 9, 7, 5, 5, 
    5, 5, 7, 9, 9, 7, 5, 5, 
    5, 5, 7, 7, 7, 7, 5, 5, 
    5, 5, 5, 5, 5, 5, 5, 5, 
    6, 5, 5, 5, 5, 5, 5, 6
};
const int RookOccupanyBitCount[64] = {
    12, 11, 11, 11, 11, 11, 11, 12, 
    11, 10, 10, 10, 10, 10, 10, 11, 
    11, 10, 10, 10, 10, 10, 10, 11, 
    11, 10, 10, 10, 10, 10, 10, 11, 
    11, 10, 10, 10, 10, 10, 10, 11, 
    11, 10, 10, 10, 10, 10, 10, 11, 
    11, 10, 10, 10, 10, 10, 10, 11, 
    12, 11, 11, 11, 11, 11, 11, 12
};
U64 rookMagicNumbers[64] = {9979994641325359136, 90072129987412032, 180170925814149121, 72066458867205152, 144117387368072224, 216203568472981512, 9547631759814820096, 2341881152152807680, 140740040605696, 2316046545841029184, 72198468973629440, 81205565149155328, 146508277415412736, 703833479054336, 2450098939073003648, 576742228899270912, 36033470048378880, 72198881818984448, 1301692025185255936, 90217678106527746, 324684134750365696, 9265030608319430912, 4616194016369772546, 2199165886724, 72127964931719168, 2323857549994496000, 9323886521876609, 9024793588793472, 562992905192464, 2201179128832, 36038160048718082, 36029097666947201, 4629700967774814240, 306244980821723137, 1161084564161792, 110340390163316992, 5770254227613696, 2341876206435041792, 82199497949581313, 144120019947619460, 324329544062894112, 1152994210081882112, 13545987550281792, 17592739758089, 2306414759556218884, 144678687852232706, 9009398345171200, 2326183975409811457, 72339215047754240, 18155273440989312, 4613959945983951104, 145812974690501120, 281543763820800, 147495088967385216, 2969386217113789440, 19215066297569792, 180144054896435457, 2377928092116066437, 9277424307650174977, 4621827982418248737, 563158798583922, 5066618438763522, 144221860300195844, 281752018887682};
U64 bishopMagicNumbers[64] = {18018832060792964, 9011737055478280, 4531088509108738, 74316026439016464, 396616115700105744, 2382975967281807376, 1189093273034424848, 270357282336932352, 1131414716417028, 2267763835016, 2652629010991292674, 283717117543424, 4411067728898, 1127068172552192, 288591295206670341, 576743344005317120, 18016669532684544, 289358613125825024, 580966009790284034, 1126071732805635, 37440604846162944, 9295714164029260800, 4098996805584896, 9223937205167456514, 153157607757513217, 2310364244010471938, 95143507244753921, 9015995381846288, 4611967562677239808, 9223442680644702210, 64176571732267010, 7881574242656384, 9224533161443066400, 9521190163130089986, 2305913523989908488, 9675423050623352960, 9223945990515460104, 2310346920227311616, 7075155703941370880, 4755955152091910658, 146675410564812800, 4612821438196357120, 4789475436135424, 1747403296580175872, 40541197101432897, 144397831292092673, 1883076424731259008, 9228440811230794258, 360435373754810368, 108227545293391872, 4611688277597225028, 3458764677302190090, 577063357723574274, 9165942875553793, 6522483364660839184, 1127033795058692, 2815853729948160, 317861208064, 5765171576804257832, 9241386607448426752, 11258999336993284, 432345702206341696, 9878791228517523968, 4616190786973859872};
